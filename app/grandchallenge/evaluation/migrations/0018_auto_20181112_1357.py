# Generated by Django 2.1.3 on 2018-11-12 13:57

import django.contrib.postgres.fields.jsonb
from django.db import migrations
import grandchallenge.core.validators


class Migration(migrations.Migration):

    dependencies = [("evaluation", "0017_extra_result_cols")]

    operations = [
        migrations.AlterField(
            model_name="config",
            name="extra_results_columns",
            field=django.contrib.postgres.fields.jsonb.JSONField(
                blank=True,
                default=list,
                help_text="A JSON object that contains the extra columns from metrics.json that will be displayed on the results page. ",
                validators=[
                    grandchallenge.core.validators.JSONSchemaValidator(
                        schema={
                            "$id": "http://json-schema.org/draft-07/schema#",
                            "$schema": "http://json-schema.org/draft-07/schema#",
                            "definitions": {},
                            "items": {
                                "$id": "#/items",
                                "properties": {
                                    "error": {
                                        "$id": "#/items/properties/error",
                                        "default": None,
                                        "properties": {
                                            "path": {
                                                "$id": "#/items/properties/error/properties/path",
                                                "default": "",
                                                "examples": [
                                                    "aggregates.dice.std"
                                                ],
                                                "pattern": "^(.*)$",
                                                "title": "The Error Path Schema",
                                                "type": "string",
                                            },
                                            "title": {
                                                "$id": "#/items/properties/error/properties/title",
                                                "default": "",
                                                "examples": ["std"],
                                                "pattern": "^(.*)$",
                                                "title": "The Error Title Schema",
                                                "type": "string",
                                            },
                                        },
                                        "required": ["title", "path"],
                                        "title": "The Error Schema",
                                        "type": "object",
                                    },
                                    "path": {
                                        "$id": "#/items/properties/path",
                                        "default": "",
                                        "examples": ["aggregates.dice.mean"],
                                        "pattern": "^(.*)$",
                                        "title": "The Path Schema",
                                        "type": "string",
                                    },
                                    "title": {
                                        "$id": "#/items/properties/title",
                                        "default": "",
                                        "examples": ["Mean Dice"],
                                        "pattern": "^(.*)$",
                                        "title": "The Title Schema",
                                        "type": "string",
                                    },
                                },
                                "required": ["title", "path"],
                                "title": "The Items Schema",
                                "type": "object",
                            },
                            "title": "The Extra Results Columns Schema",
                            "type": "array",
                        }
                    )
                ],
            ),
        )
    ]
